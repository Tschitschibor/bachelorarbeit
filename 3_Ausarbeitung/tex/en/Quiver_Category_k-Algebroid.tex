% mainfile: ../main.tex

\section{Quivers, categories and k-algebroids}

\begin{definition}{(Quiver)}\\
A \ul{directed graph} or \ul{quiver} $q$ consists of a class of \ul{objects} (or \ul{vertices}) $q_{0} = \textup{Obj}\,q$ and
a class of \ul{morphisms} (or \ul{arrows}) $q_{1} = \textup{Mor}\,q$ together with two defining maps
\[
\begin{tikzcd}[column sep=small]
{s,t\colon q_{1}} \arrow[rr, shift left = 0.7ex] \arrow[rr, shift right = 0.7ex] & & q_{0}
\end{tikzcd}
\]
$s$ called \ul{source} and $t$ called \ul{target}.
\end{definition}

\noindent In \texttt{QPA}, the objects are coded by natural numbers, so the first object is $1$, the second $2$ and so on. The arrows are denoted by
small letters $a, b, c$ and so on. There is a difference between \texttt{RightQuiver} and \texttt{LeftQuiver} in that the right quiver is \ul{right-oriented}
(that is, the convention for order in multiplication of paths is the opposite of that used for \ul{left-oriented} quivers).

\begin{definition}{(Hom-set of a (locally) small quiver)}
\renewcommand{\labelenumi}{(\theenumi)}
\begin{enumerate}
\item Given two objects $M, N \in q_{0}$ we write $\textup{Hom}_{q}(M,N)$ or $q(M,N)$ for the fiber
$(s,t)^{-1} (\{(M,N)\})$ of the product map 
\begin{tikzcd}[column sep=small]
(s, t) : q_{1} \arrow[rr] &  & q_{0} \times q_{0} 
\end{tikzcd} over the pair $(M,N) \in q_{0} \times q_{0}$.
This is the class of all morphisms with source $= M$ and target $= N$.
We indicate this by writing
\begin{tikzcd}[column sep=small]
\varphi : M \arrow[rr] &  & N
\end{tikzcd} or 
\begin{tikzcd}[column sep=small]
M \arrow[rr,"\varphi"] &  & N.
\end{tikzcd} Hence $q_{1}$ is the disjoint union $\bigcup\limits^{\bigcdot}_{M,N \in q_{0}} \textup{Hom}_{q}(M,N) = q_{1}$.
As usual we define $\textup{End}_{q}(M):= \textup{Hom}_{q}(M,M)$.
\item If the class $\textup{Hom}_{q}(M,N)$ is a \ul{set} for all pairs $(M,N)$ then we call the quiver \ul{locally small}.
We therefore talk about \ul{Hom-sets}.
If additionally, $q_{0}$ is a set, then the quiver is called \ul{small}.
\end{enumerate}
\end{definition}

\begin{example}\label{q(2)}{(Quiver with 2 objects and 3 morphisms)}\\
\[
\begin{tikzcd}
1 \arrow["a"', loop, distance=2em, in=305, out=235] \arrow[rr, "b"] &  & 2 \arrow["c"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\]
The objects of this quiver $q$ are $q_{0} = \{1, 2\}$, and the morphisms are $q_{1} = \{a, b, c\}$ with\\
$s (a) = 1 = t (a)$, $s (c) = 2 = t (c)$ and $s (b) = 1, t (b) = 2$.\\
\noindent Thus $\textup{End}_{q}(1) = \{a\}, \textup{End}_{q}(2) = \{c\}$ and $\textup{Hom}_{q}(1,2) = \{b\}$ whereas
$\textup{Hom}_{q}(2,1)=\emptyset$.\\

\noindent In \texttt{QPA} this quiver is encoded as \texttt{q(2)[a:1->1,b:1->2,c:2->2]} where the first \texttt{(2)} in parentheses stands for the total
number of objects.
\end{example}

\begin{definition}{(Composable arrows; path in a quiver)}\\
Since we already have the source and target maps, we say two arrows $a, b \in q_{1}$ are \ul{composable} if $t(a) = s(b)$ or
$t(b) = s(a)$. In this case we can write a sequence of composable arrows $p = a_{1}a_{2}\cdots a_{n}$ where $t(a_{i}) = s(a_{i+1})$ for $i=1,\dots,n-1$.
We call this sequence a \ul{path} from $s(a_{1})$ to $t(a_{n})$ and the integer $n \in \mathbb{Z}_{\geq0}$ the \ul{length} $l(p)$ of the path $p$.
Although it's not an arrow, we can define the source and target of a path $p = a_{1}\cdots a_{n}$ as $s(p) := s(a_{1})$ and $t(p) := t(a_{n})$.
A path $p = a_{1}\cdots a_{n}$ with $s(a_{1}) = t(a_{n})$, i.e. $s(p) = t(p)$, is called \ul{cyclic}.\\
For an endomorphism $a \in \textup{End}_{q}(M)$ we write $a^{n}$ for $aa \cdots a$ ($n$ times). In the case of $n=0$ an \ul{empty path}
whose source and target are the vertex $i \in q_{0}$ is called the \ul{trivial path at $i$} and is denoted $e_{i}$. Note that the composition of paths
$e_{i}e_{i}$ has length zero starting at $i$ therefore $e_{i}^{2}=e_{i}$.
\end{definition}

\begin{lemma} Let Q be a quiver. If there is a path of length at least $\abs{Q_{0}}$, then there are cyclic paths,
and thus infinitely many paths.
\begin{proof}
Assume that there exists a path of length greater or equal to $\abs{Q_{0}}$. Then there exists a path of length $n = \abs{Q_{0}}$, say
$\alpha_{1}\cdots \alpha_{n}$. Consider the vertices $x_{i}=s(\alpha_{i})$ for $1 \leq i \leq n$ and $x_{n+1}=t(\alpha_{n})$. Then these
are $n+1$ vertices, thus there has to exist $i<j$ with $x_{i}=x_{j}$. Let $\omega=\alpha_{i}\cdots \alpha_{j-1}$, this is a path with source and target
$x_{i}=x_{j}$, thus a cyclic path. But then $\omega^{m}$ is a path for any natural number $m$. The path $\omega$ has length $j-i\geq1$, thus
$\omega^{m}$ has length $m(j-i)$. This shows that these paths are pairwise different.
\end{proof}
\end{lemma}

\begin{example}{(A quiver with no cycles)}\\
\[
\begin{tikzcd}
2 \arrow[rrrr, "\psi"] \arrow[rrrrddd, "\psi\rho", pos=0.3] &  &  &  &
3 \arrow[ddd, "\rho"] \\
 &  &  &  & \\
 &  &  &  & \\
1 \arrow[uuu, "\varphi"] \arrow[rrrruuu, "\varphi\psi", pos=0.3] \arrow[rrrr, "\varphi\psi\rho" '] &  &  &  & 4
\end{tikzcd}
\]
\end{example}

\begin{definition}{(Category)}\\

\noindent A \ul{category} $\mathcal{C}$ is a quiver with two further maps:

\begin{enumerate}
\renewcommand{\labelenumi}{(id)}
\item The \ul{identity map} $1_{( )}$ mapping every object $X \in\mathcal{C}_{0}$ to its \ul{identity morphism} $1_{X}$:
\[
\begin{tikzcd}[column sep=small]
\mathcal{C}_{0} \arrow[rr,"1"] &  & \mathcal{C}_{1}
\end{tikzcd}
\]
\renewcommand{\labelenumi}{($\mu$)}
\item And for any two \ul{composable} morphisms $\varphi$ and $\psi \in \mathcal{C}_{1}$, i.e. with $t(\varphi) = s(\psi)$, the
\ul{composition map} $\mu$, which maps $\varphi, \psi \in \mathcal{C}_{1}\times\mathcal{C}_{1}$ to $\mu(\varphi,\psi) \in \mathcal{C}_{1}$ which
we also write as $\varphi\psi$. 
\[
\begin{tikzcd}[column sep=small]
\mathcal{C}_{1} \times \mathcal{C}_{1} \arrow[rr,"\mu"] &  & \mathcal{C}_{1}
\end{tikzcd}
\]
\end{enumerate}

\noindent The defining properties for $1$ and $\mu$ are:
\renewcommand{\labelenumi}{(\theenumi)}
\begin{enumerate}
\item $s(1_{M}) = M = t(1_{M})$, i.e.\\
$1_{M} \in \textup{End}_{\mathcal{C}} \forall M \in \mathcal{C}$.

\item $s(\varphi\psi) = s(\varphi)$ and\\
$t(\varphi\psi) = t(\psi)$\\
for all composable morphisms $\varphi, \psi \in \mathcal{C}$.
\[
\begin{tikzcd}[column sep=small]
\mu : \textup{Hom}_{\mathcal{C}}(M,L) \times \textup{Hom}_{\mathcal{C}}(L,N) \arrow[rr] &  & \textup{Hom}_{\mathcal{C}}(M,N)
\end{tikzcd}
\]
\item \begin{minipage}{.55\textwidth} $(\varphi\psi)\rho = \varphi(\psi\rho)$ \hfill{} [associativity of composition]\end{minipage}
\begin{minipage}{.45\textwidth}\phantom{}\end{minipage}
\item \begin{minipage}{.55\textwidth} $1_{s(\varphi)}\varphi = \varphi = \varphi1_{t(\varphi)}$ \hfill{} [unit property]\end{minipage}
\begin{minipage}{.45\textwidth}\phantom{}\end{minipage}\\
The identity is a left and right \ul{unit} of the composition.
\end{enumerate}
\end{definition}

\noindent As we have seen, every category is a quiver, but in general, to become a category, a quiver is lacking identity morphisms
and the composition of morphisms. To be more precise, there is a \ul{functor} $U$ from the \ul{category of categories} $\textup{CAT}$ to the
\ul{category of quivers} $\textup{Quiv}$, called the \ul{underlying quiver} or \ul{forgetful functor}.
\[
\begin{tikzcd}
\textup{CAT} \arrow[rr,"U"] &  & \textup{Quiv}
\end{tikzcd}
\]
mapping every object $M \in \mathcal{C}_{0}$ to the same objects in $q_{0}$, mapping every arrow $\varphi \in \mathcal{C}_{1}$ to 
an arrow $a \in q_{1}$, respecting source and target, but forgetting the special role of the identity morphisms and of the composition morphisms.

\newpage
\begin{example}{(Underlying quiver)}\\

\noindent\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=1.5em, inner ysep=3em}]
B \arrow[rrrr, "\psi"] \arrow[rrrrddd, "\psi\rho", pos=0.3] \arrow["1_{B}"', loop, distance=2em, in=125, out=55] &  &  &  &
C \arrow[ddd, "\rho"] \arrow["1_{C}"', loop, distance=2em, in=125, out=55]\\
 &  &  &  & \\
 &  &  &  & \\
A \arrow[uuu, "\varphi"] \arrow[rrrruuu, "\varphi\psi", pos=0.3] \arrow[rrrr, bend left, "(\varphi\psi)\rho" ', shift right=2]
\arrow[rrrr, "\varphi(\psi\rho)", bend right] \arrow["1_{A}"', loop, distance=2em, in=305, out=235] &  &  &  &
D \arrow["1_{D}"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.10\textwidth}
\begin{tikzcd}
{} \arrow[r, "U", Rightarrow] & {}
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=1.5em, inner ysep=3em}]
2 \arrow[rrrr, "b"] \arrow[rrrrddd, "e", pos=0.3] \arrow["h"', loop, distance=2em, in=125, out=55] &  &  &  &
3 \arrow[ddd, "c"] \arrow["i"', loop, distance=2em, in=125, out=55]\\
 &  &  &  & \\
 &  &  &  & \\
1 \arrow[uuu, "a"] \arrow[rrrruuu, "d", pos=0.3] \arrow[rrrr, bend left, "f" ', shift right=2]
\arrow[rrrr, "f", bend right] \arrow["g"', loop, distance=2em, in=305, out=235] &  &  &  &
4 \arrow["j"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}\\

\noindent In the category on the left, associativity of composition guaranteed that $(\varphi\psi)\rho = \varphi(\psi\rho)$, so those two arrows
were already the same, so they are mapped to the same arrow $f = U((\varphi\psi)\rho) = U(\varphi(\psi\rho))$ in the quiver on the right.
We didn't have to draw both arrows for $f$, but since they are equal, there is still only one arrow in the hom-set $\textup{Hom}_{q}(1,4)=\{f,f\} = \{f\}$.\\
All the other identities are not preserved under the forgetful functor, e.g. $d$ doesn't know what it has to do with $a$ and $b$ apart from
$s(d) = s(a)$ and $t(d) = t(b)$. Especially the former identity arrows are now just endomorphisms with no defining property.\\
The paths $g^{2}f, gf$ and $fj^{3}$ are all different, while in the category, they all simplify to
$1_{A}1_{A}(\varphi\psi)\rho = 1_{A}(\varphi\psi)\rho = (\varphi\psi)\rho1_{D}1_{D}1_{D} =  (\varphi\psi)\rho$ due to the unit property and associativity.
\end{example}


\begin{definition}{(Ab-category)}
An \ul{Ab-category} is a category in which all homomorphism sets are abelian groups, and composition distributes over addition.\\
In other words,
A category $\mathcal{C}$ is an \ul{Ab-category} if for every pair of objects $M,N \in \mathcal{C}_{0}$, $( \textup{Hom}_{\mathcal{C}}(M,N), + )$ is
an abelian group (with the neutral element called \ul{zero morphism}), and for all morphisms $\gamma, \delta \in \textup{Hom}_{\mathcal{C}}(M,N),
\alpha, \beta \in \textup{Hom}_{\mathcal{C}}(N,L)$
\[
(\gamma + \delta)\alpha = \gamma\alpha + \delta\alpha \textup{ and }\]\[
\gamma(\alpha+\beta) = \gamma\alpha + \gamma\beta.
\]
Note that every hom-set has its own unique zero morphism. E.g. in $\textup{Mat}_{\mathbb{Q}}$ the 2-by-3 zero-matrix $0 \in \textup{Hom}(2,3)$ is different from
the 4-by-4 zero-matrix $0 \in \textup{Hom}(4,4)$.
\end{definition}

\begin{definition}{(Initial object, terminal object, zero object)}

\end{definition}

\begin{example}{}

\end{example}

\begin{definition}{(Kernel of a morphism}

\end{definition}

\begin{definition}{(Abelian category)}

\end{definition}
\begin{definition}{(k-linear category)}

\end{definition}


Quiver -> CAT: U: forget 1, forget composition

search $U^{-1}$

Beispiel für Adjunktion


Path Algebra: