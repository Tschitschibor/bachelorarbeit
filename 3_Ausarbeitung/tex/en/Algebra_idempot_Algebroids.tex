

\subsection{Finite concrete categories and the free/forgetful adjunction}\label{sec:fin_concrete_cat_free_forgetful}

Our model for a finite concrete category $\mathcal{C}$ is that of a finite subcategory of $\FinSets$. In particular we restrict ourselves
to finite concrete categories that are generated by a finite set of morphisms $\mathtt{SetOfGeneratingMorphisms}$ and whose endomorphism
monoids are explicitly cyclic.

The $\mathtt{SetOfGeneratingMorphisms} = \{ a_{1},a_{2},\dots,a_{n} \}$ already defines a finite quiver:

\begin{definition}{(Finite quiver generated by a finite set of morphisms)}\label{def:quiver_generated}
Let $M = \{ a_{1}, a_{2}, \dots, a_{n} \}$ be a finite set of morphisms. We say a quiver $q$ is \ul{generated by $M$}, if
\begin{align}
q_{1} &= M, \text{ and } \\
q_{0} &= \{ o : \exists a \in M, s(a) = o \vel t(a) = o \}
\end{align}
In this case the quiver $q$ is finite.
\end{definition}

The fact that every category is also a quiver can be expressed in the following as the existence of a certain forgetful functor:

\begin{example}{(Forgetful functor $U : \mathcal{C} \rightarrow \mathcal{D}$)}
\begin{enumerate}
\renewcommand{\labelenumi}{(\theenumi)}
\item We denote by the letter $U$ (for \textit{underlying}) a \ul{forgetful functor} between two categories $U : \mathcal{C} \rightarrow \mathcal{D}$ if
we can identify every object $c \in \mathcal{C}$ as an object $Uc \in \mathcal{D}$ by \textit{forgetting} some additional structure that $c$ had
in $\mathcal{C}$ but that is not defined for objects in $\mathcal{D}$. The object $Uc$ is called the \ul{underlying object} of $c$ (e.g. the
\ul{underlying set} of a group).
\item For a morphism $a : c \rightarrow c' \in \mathcal{C}$ that was some structure-preserving map between $c$ and $c'$, if that structure doesn't
exist in the category $\mathcal{D}$ then $Ua : Uc \rightarrow Uc'$ \textit{forgets} the structure-preserving property of $a$.
\item There are other conceivable functors that even map morphisms between two objects
(e.g. functors between two categories are morphisms in $\mathrm{\textbf{Cat}}$) to objects (e.g. functors in the functor category). If you now
want to get back the morphism from the object, you again are using a forgetful functor (e.g. to get the \ul{underlying functor} of the functor object).
\end{enumerate}
Some authors define a forgetful functor in the strict sense that its target category $\mathcal{D} = \mathrm{\textbf{Set}}$, i.e. it forgets all structure;
and functors that only forget some but not all of the algebraic structure are called \ul{intermediate forgetful functors}.
\end{example}

\noindent We are interested in the forgetful functor with $\mathcal{C} = \Cat$ and $\mathcal{D} = \Quiv$:

\begin{example}{(Forgetful functor $U  : \Cat \hookrightarrow \Quiv$)}
Let $\mathcal{C} \in \Cat$ be a category. The quiver $q = U\mathcal{C}$ is defined by
\begin{align}
q_{0} &= \mathcal{C}_{0} \\
q_{1} &= \mathcal{C}_{1}
\end{align}
In particular every identity morphism $1_{c} \in \mathcal{C}_{1}$ for an object $c \in \mathcal{C}$ now is just any other endomorphism
on that object (but it is still true that $s(1_{c}) = t(1_{c}) = c$).
And every morphism $\varphi\psi \in \mathcal{C}_{1}$ that was the composition of $\varphi$ with $\psi$ is now just
any morphism without much deeper connection to $\varphi$ and $\psi$ apart from
\begin{align}
s(\varphi\psi) &= s(\varphi) \text{ and } \\
t(\varphi\psi) &= t(\psi),
\end{align}
which is still true in $\Quiv$. Of course, associativity and unital property of the composition $\mu$ doesn't exist in $\Quiv$ since there is no composition
of arrows.
\end{example}

\begin{example}{(Underlying quiver)}\label{ex:underlying_quiver}\\

\noindent\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=1.5em, inner ysep=3em}]
2 \arrow[rrrr, "b"] \arrow[rrrrddd, "e", pos=0.3] \arrow["h"', loop, distance=2em, in=125, out=55] &  &  &  &
3 \arrow[ddd, "c"] \arrow["i"', loop, distance=2em, in=125, out=55]\\
 &  &  &  & \\
 &  &  &  & \\
1 \arrow[uuu, "a"] \arrow[rrrruuu, "d", pos=0.3] \arrow[rrrr, bend left, "f" ', shift right=2]
\arrow[rrrr, "f", bend right] \arrow["g"', loop, distance=2em, in=305, out=235] &  &  &  &
4 \arrow["j"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.10\textwidth}
\center$\xhookleftarrow{\text{   U   }}$
\end{minipage}
%
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=1.5em, inner ysep=3em}]
B \arrow[rrrr, "\psi"] \arrow[rrrrddd, "\psi\rho", pos=0.3] \arrow["1_{B}"', loop, distance=2em, in=125, out=55] &  &  &  &
C \arrow[ddd, "\rho"] \arrow["1_{C}"', loop, distance=2em, in=125, out=55]\\
 &  &  &  & \\
 &  &  &  & \\
A \arrow[uuu, "\varphi"] \arrow[rrrruuu, "\varphi\psi", pos=0.3] \arrow[rrrr, bend left, "(\varphi\psi)\rho" ', shift right=2]
\arrow[rrrr, "\varphi(\psi\rho)", bend right] \arrow["1_{A}"', loop, distance=2em, in=305, out=235] &  &  &  &
D \arrow["1_{D}"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}\\

\noindent In the category on the right, associativity of composition guaranteed that $(\varphi\psi)\rho = \varphi(\psi\rho)$, so those two arrows
were already the same, so they are mapped to the same arrow $f = U((\varphi\psi)\rho) = U(\varphi(\psi\rho))$ in the quiver on the left.
We didn't have to draw both arrows for $f$, but since they are equal, there is still only one arrow in the hom-set $\textup{Hom}_{q}(1,4)=\{f,f\} = \{f\}$.\\
All the other identities are not preserved under the forgetful functor, e.g. $d$ doesn't know what it has to do with $a$ and $b$ apart from
$s(d) = s(a)$ and $t(d) = t(b)$. Especially the former identity arrows are now just endomorphisms with no defining property.\\
The paths $g^{2}f, gf$ and $fj^{3}$ are all different, while in the category, they all simplify to
$1_{A}1_{A}(\varphi\psi)\rho = 1_{A}(\varphi\psi)\rho = (\varphi\psi)\rho1_{D}1_{D}1_{D} =  (\varphi\psi)\rho$ due to the unit property and associativity.
\end{example}

The category $\mathcal{C}$ in the last example has the set of morphisms $\mathcal{C}_{1} =
\{ 1_{A}, 1_{B}, 1_{C}, 1_{D}, \varphi, \psi, \rho, \varphi\psi, \psi\rho, \varphi\psi\rho \}$, i.e. 10 morphisms. But once the three morphisms
$\varphi, \psi$ and $\rho$ were defined, the other seven morphisms were forced from the unit and composition axioms of a category.

\begin{example}{(Category generated by one endomorphism)}\label{ex:category_generated_by_one_endomorphism}
As another example, take a category $\mathcal{M}$ with one object $\ast$ and apart from $1_{\ast}$ one other endomorphism
$\alpha : \ast \rightarrow \ast$. It already has a priori countably infinitely many morphisms
$\mathcal{M}_{1} = \{ 1_{\ast}, \alpha, \alpha^{2}, \alpha^{3}, \dots \}$. But the information to generate that category is all encoded in the
one morphism $\alpha$.
\end{example}

What we are looking for is a construction of a finite concrete category from a finite set of generating morphisms. For this we can take
the generated quiver from \ref{def:quiver_generated} and from it the free category.

\begin{definition}{(The free category $F : \Quiv \rightarrow \Cat$)}\label{def:free_category}\endnote{(ref. \cite{[context]} Example 4.1.13)}
The \ul{free category} $Fq$ of a quiver $q$ has $q_{0}$ as its set of objects. The set $(Fq)_{1}$ of morphisms consists of all finite paths of arrows in
$q_{1}$. The identity morphism $1_{c}$ of an object $c \in q_{0}$ is defined as the empty path from $c$ to itself. Composition is defined by
concatenation of paths.
\end{definition}

\begin{definition}{(Free $\dashv$ forgetful adjunction)}
The functor pair $F : \Quiv \leftrightarrows \Cat : U$ is an example for an adjunction, i.e. for the functors $F : \Quiv \rightarrow \Cat$ and
$U : \Cat \rightarrow \Quiv$ there is an isomorphism
\begin{align}
\mathrm{Hom}_{\Cat}(Fq, \mathcal{C}) &\cong \mathrm{Hom}_{\Quiv}(q,U\mathcal{C})
\end{align}
for each $q \in \Quiv$ and $\mathcal{C} \in \Cat$, that is natural in both $q$ and $\mathcal{C}$. Here $U$ is \ul{right adjoint} to $F$ and
the forgetful functor $U$ admits a \ul{left adjoint}, free construction $F$.
\end{definition}

We can view the free category functor in action in two different ways: Where does the category $\mathcal{C}$ in example \ref{ex:underlying_quiver}
come from, i.e. what is the quiver $q$ such that $\mathcal{C} = Fq$? And where does it go after we forget the category structure, i.e. what is
the category $F(U(\mathcal{C}))$? We will illustrate the answers to both questions in the next example:

\begin{example}{(Generating quiver $\xrightarrow{F}$ category $\xrightarrow{U}$ underlying quiver $\xrightarrow{F}$ category)}
\begin{enumerate}
\renewcommand{\labelenumi}{(\theenumi)}
\item The free category generated by the quiver:
\[
\noindent\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}
%
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=1.5em, inner ysep=3em}]
B \arrow[rrrr, "\psi"] &  &  &  & C \arrow[ddd, "\rho"] \\
 &  &  &  & \\
 &  &  &  & \\
A \arrow[uuu, "\varphi"] &  &  &  & D
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.10\textwidth}
\center$\xrightarrow{\text{     }F\text{     }}$
\end{minipage}
%
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=1.5em, inner ysep=3em}]
B \arrow[rrrr, "\psi"] \arrow[rrrrddd, "\psi\rho", pos=0.3] \arrow["1_{B}"', loop, distance=2em, in=125, out=55] &  &  &  &
C \arrow[ddd, "\rho"] \arrow["1_{C}"', loop, distance=2em, in=125, out=55]\\
 &  &  &  & \\
 &  &  &  & \\
A \arrow[uuu, "\varphi"] \arrow[rrrruuu, "\varphi\psi", pos=0.3] \arrow[rrrr, bend left, "(\varphi\psi)\rho" ', shift right=2]
\arrow[rrrr, "\varphi(\psi\rho)", bend right] \arrow["1_{A}"', loop, distance=2em, in=305, out=235] &  &  &  &
D \arrow["1_{D}"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}
\]
\item The free category generated by the underlying quiver:
\[
\noindent\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=1.5em, inner ysep=3em}]
2 \arrow[rrrr, "b"] \arrow[rrrrddd, "e", pos=0.3] \arrow["h"', loop, distance=2em, in=125, out=55] &  &  &  &
3 \arrow[ddd, "c"] \arrow["i"', loop, distance=2em, in=125, out=55]\\
 &  &  &  & \\
 &  &  &  & \\
1 \arrow[uuu, "a"] \arrow[rrrruuu, "d", pos=0.3] \arrow[rrrr, bend left, "f" ', shift right=2]
\arrow["g"', loop, distance=2em, in=305, out=235] &  &  &  &
4 \arrow["j"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.10\textwidth}
\center$\xrightarrow{\text{     }F\text{     }}$
\end{minipage}
%
\begin{minipage}{.37\textwidth}
\begin{tikzcd}[boxedcd={inner xsep=3em, inner ysep=3em}]
2 \arrow[rrrr, "b"] \arrow[rrrrddd, "e", pos=0.75] \arrow["h"', loop, distance=2em, in=125, out=55] \arrow["1_{2}"', loop, distance=2em, in=215, out=145] \arrow[rrrrddd, "bc", pos=0.75, shift left=5]                                                                                                                                                                                                                                                                                       &  &  &  & 3 \arrow[ddd, "c"] \arrow["i"', loop, distance=2em, in=125, out=55] \arrow["1_{3}"', loop, distance=2em, in=35, out=325] \\
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          &  &  &  &                                                                                                                          \\
                                                                                                                                                                                                                                                                                                                                                                                                                                                                          &  &  &  &                                                                                                                          \\
1 \arrow[uuu, "gah"', pos=0.65, shift right=3] \arrow[rrrruuu, "d", pos=0.75] \arrow[rrrr, "f", bend left, shift right=2] \arrow[rrrr, "abc", bend right] \arrow["g"', loop, distance=2em, in=305, out=235] \arrow["1_{1}"', loop, distance=2em, in=215, out=145] \arrow[uuu, "ah" description, pos=0.6] \arrow[uuu, "ga" description, pos=0.45, shift left=3] \arrow[uuu, "a" description, pos=0.3, shift left=6] \arrow[rrrruuu, "ab", pos=0.67, shift left=6] \arrow[rrrr, "dc", shift right=3] \arrow[rrrr, "ae", shift left=2] &  &  &  & 4 \arrow["j"', loop, distance=2em, in=305, out=235] \arrow["1_{4}"', loop, distance=2em, in=35, out=325]                
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.08\textwidth}
\phantom{}
\end{minipage}
\]
As you can see, this picture gets cluttered very fast (I didn't draw all morphisms). The reason for this is the existence of non-identity endomorphisms.
As we have shown in lemma \ref{la:cyclic_paths}, one non-identity endomorphism is enough for a quiver to have infinitely many paths.
Here it is even worse than in the example \ref{ex:category_generated_by_one_endomorphism} where we had countably many endomorphisms
$\alpha^{n}, n \in \mathbb{N}$. Through the arrow $a : 1 \rightarrow 2$ we can concatenate countably many morphisms
$g^{m}ah^{n}, (m,n) \in \mathbb{N}\times\mathbb{N}$ and even $g^{n_{1}}ah^{n_{2}}bi^{n_{3}}cj^{n_{4}}, (n_{1}, n_{2}, n_{3}, n_{4}) \in \mathbb{N}^{4}$.
If we were to construct the path algebra (see \ref{def:path_algebra}) on the quiver, it already had an infinite basis.
\end{enumerate}
\end{example}

\begin{example}{(Continued example \ref{ex:category_generated_by_one_endomorphism})}\label{ex:U-F-U-F_from_singleton}\\

As a last example to see how bad it can get from seemingly innocent quivers, take the category with 1 object and its identity morphism:
\[
\noindent\begin{minipage}{.005\textwidth}
\phantom{}
\end{minipage}
\begin{minipage}{.08\textwidth}
\begin{tikzcd}
\ast \arrow["1_{\ast}"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.05\textwidth}
$\xrightarrow{\text{     }U\text{     }}$
\end{minipage}
%
\begin{minipage}{.08\textwidth}
\begin{tikzcd}
\ast \arrow["a"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.05\textwidth}
$\xrightarrow{\text{     }F\text{     }}$
\end{minipage}
%
\begin{minipage}{.15\textwidth}
\begin{tikzcd}
\ast \arrow["a"', loop, distance=2em, in=305, out=235] \arrow["1_{\ast}"', loop, distance=2em, in=125, out=55] \arrow["{a^{2}, a^{3},\dots}"', loop, distance=2em, in=35, out=325]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.05\textwidth}
$\xrightarrow{\text{     }U\text{     }}$
\end{minipage}
%
\begin{minipage}{.08\textwidth}
\begin{tikzcd}
\ast \arrow["{a, b, c,\dots}"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.05\textwidth}
$\xrightarrow{\text{     }F\text{     }}$
\end{minipage}
%
\begin{minipage}{.25\textwidth}
\begin{tikzcd}
\ast \arrow["{a, b, c,\dots}"', loop, distance=2em, in=305, out=235] \arrow["1_{\ast}"', loop, distance=2em, in=125, out=55] \arrow["{a^{2},\dots,ab,\dots,ababbaba,\dots,b^{2},\dots,c^{2},\dots}"', loop, distance=2em, in=35, out=325]
\end{tikzcd}
\end{minipage}
\begin{minipage}{.10\textwidth}
\phantom{}
\end{minipage}
\]
After the first forgetful functor, we are in the situation of \ref{ex:category_generated_by_one_endomorphism} where then the first free functor
gives us countably many morphisms.
The following forgetful functor only renames them to countably many distinct morphisms.
In the last step, we are constructing the free monoid on countably many generators. Among other things it contains the free monoid on two
generators.\endnote{As my father rightly remarked when I showed this to him, \enquote{You can hide the whole world inside there!}}
\end{example}

We can learn two lessons from these examples:
\begin{enumerate}
\item An adjunction is more general than an equivalence of categories. The free functor $F$ doesn't just \textit{undo} the forgetful functor $U$.
You will end up with much more than you started with.
\item If we want to still work with finite categories, we really need to control the size of our hom-sets, especially regarding the endomorphisms.
This is the topic of the next section.
\end{enumerate}

\vspace{4em}

%\begin{minipage}{.01\textwidth}\phantom{}
%\end{minipage}
%
\noindent\begin{minipage}[t]{.55\textwidth}\vspace{0pt}%
\subsection{Relations of endomorphisms}
\begin{lemma}{($\sigma$-Lemma)}\label{la:sigma-lemma}
\begin{enumerate}
\renewcommand{\labelenumi}{(\theenumi)}
\item Let $\mathcal{C}$ be a finite concrete category. In remark \ref{rmk:endo_monoid} we showed that for each object
$M \in \mathcal{C}_{0}$ the set $\mathrm{End}_{\mathcal{C}}(M)$ is a monoid. For each endomorphism $f \in \mathrm{End}_{\mathcal{C}}(M)$
there exist $m,n \in \mathbb{N}, n\geq 1$, such that $f^{m+n}=f^{m}$.
\item When we restrict both the source and target of $f$ to $\mathrm{Im}(f^{m})$, then $f\restrict{\mathrm{Im}(f^{m})}$ is an isomorphism, i.e.
$f\restrict{\mathrm{Im}(f^{m})} \in \mathrm{Aut}_{\mathcal{C}}(\mathrm{Im}(f^{m}))$. Also $f^{n} = 1_{\mathrm{Im}(f^{m})}$.
\item If $m = 0$ and $n \geq 1$ then $f \in \mathrm{Aut}_{\mathcal{C}}(M)$ is an automorphism with $f^{-1} = f^{n-1}$ and has order $n$.
\item An upper bound for $m$ is $\abs{M}$ and for $n$ is $g(N)$ with $N = \abs{M}$ and Landau's function\endnote{(My thanks to
Felix Potthast and Michael Figelius who both sent me in the direction of Landau's function)} $g(N)$
defined as the largest order of an element of the symmetric group $S_{N}$.
\end{enumerate}
\end{lemma}
\noindent
%m=1, n=1
\begin{minipage}[b]{.45\textwidth}
\begin{tikzpicture}[->,>=stealth',auto,node distance=1cm,
  thick,main node/.style={circle,draw,font=\sffamily\Large\bfseries}]

  % nodes on the leg of sigma
  \node[main node] (1) [circle, fill, inner sep=2pt] {};
  \node[main node] (2) [left of=1, circle, fill, inner sep=2pt] {};
  
  \path[every node/.style={font=\sffamily\small}]
  % arrows on the leg of sigma
    (1) edge[-] node [left] {} (2)
    (1) edge["$f^{0} = 1_{M}$"', pos=0.60, out=300, in=40, min distance=7mm, looseness=8] (1)
    (1) edge["$f^{1}$"', bend right] node [right] {} (2)
    (2) edge["$f^{1+1}$"', pos=0.55, out=220, in=300, min distance=7mm, looseness=8] (2);
\end{tikzpicture}
\captionof{figure}{$f$ is idempotent. $m=1$ and $n=1$.}
\end{minipage}\hfill
%
\begin{minipage}[b]{.02\textwidth}
\phantom{}
\end{minipage}
\begin{minipage}[b]{.45\textwidth}
%m=0, n=2
\begin{tikzpicture}[->,>=stealth',auto,node distance=0.5cm,
  thick,main node/.style={circle,draw,font=\sffamily\Large\bfseries}]

  % nodes on the leg of sigma
  \node[main node] (1) [circle, fill, inner sep=2pt] {};
  % draw the circle
  \node[main node] (C) [below of=1, circle, draw, inner sep=0.35cm] {};
  
  \node[main node] (2) [below of=C, circle, fill, inner sep=2pt] {};
  
  \path[every node/.style={font=\sffamily\small}]
  % arrows on the leg of sigma
    (1) edge["$f^{0} = 1_{M}$"', pos=0.32, out=40, in=100, min distance=7mm, looseness=8] (1)
    (1) edge["$f^{0+1}$"', bend right=120, min distance=11mm] node [right] {} (2)
%    (2) edge["$f^{0+2}$", pos=0.5, bend right=55] node [right] {} (1);
    (2) edge["$f^{0+2}$"', bend right=120, min distance=11mm] node [right] {} (1);
\end{tikzpicture}
\captionof{figure}{$f$ is bijective with order $2$. $m=0$ and $n=2$.}
\end{minipage}
\end{minipage}
%
\begin{minipage}{.01\textwidth}
\phantom{}
\end{minipage}
%
\begin{minipage}[t]{.45\textwidth}\vspace{0pt}
%[$\sigma$ lemma illustrated for different sizes of $m$ and $n$]
%m=3, n=5
\begin{tikzpicture}[->,>=stealth',auto,node distance=1cm,
  thick,main node/.style={circle,draw,font=\sffamily\Large\bfseries}]

  % nodes on the leg of sigma
  \node[main node] (1) [circle, fill, inner sep=2pt] {};
  \node[main node] (2) [left of=1, circle, fill, inner sep=2pt] {};
  \node[main node] (3) [left of=2, circle, fill, inner sep=2pt] {};
  \node[main node] (4) [left of=3, circle, fill, inner sep=2pt] {};
  
  % nodes on the circle of sigma
  \node[main node] (5) [above right=-0.84098cm and -1.10106cm of 4, circle, fill, inner sep=2pt] {};
  \node[main node] (6) [above right=-1.95902cm and -0.73779cm of 4, circle, fill, inner sep=2pt] {};
  \node[main node] (7) [above right=-1.95902cm and 0.43779cm of 4, circle, fill, inner sep=2pt] {};
  \node[main node] (8) [above right=-0.84098cm and 0.80106cm of 4, circle, fill, inner sep=2pt] {};
  \node[main node] (9) [above right=-0.150cm and -0.150cm of 4, circle, fill, inner sep=2pt] {};
  
  % draw the circle
  \node[main node] (C) [below of=4, circle, draw, inner sep=0.70cm] {};
  
  \path[every node/.style={font=\sffamily\small}]
  % arrows on the leg of sigma
    (1) edge[-] node [left] {} (2)
    (2) edge[-] node [left] {} (3)
    (3) edge[-] node [left] {} (4)
    (1) edge["$f^{0} = 1_{M}$"', pos=0.60, out=300, in=40, min distance=7mm, looseness=8] (1)
    (1) edge["$f^{1}$"', bend right] node [right] {} (2)
    (2) edge["$f^{2}$"', bend right] node [right] {} (3)
    (3) edge["$f^{3}$"', bend right] node [right] {} (4)
    % arrows on the circle of sigma
    (9) edge["$f^{3+1}$"', bend right=55] node [right] {} (5)
    (5) edge["$f^{3+2}$"', bend right=55] node [right] {} (6)
    (6) edge["$f^{3+3}$"', bend right=55] node [right] {} (7)
    (7) edge["$f^{3+4}$"', bend right=55] node [right] {} (8)
    (8) edge["$f^{3+5}$", pos=0.4, bend left=55] node [right] {} (9);
\end{tikzpicture}
\captionof{figure}{$\sigma$ lemma with $m=3$ and $n=5$.}
%m=1, n=10
\begin{tikzpicture}[->,>=stealth',auto,node distance=1cm,
  thick,main node/.style={circle,draw,font=\sffamily\Large\bfseries}]

  % nodes on the leg of sigma
  \node[main node] (1) [circle, fill, inner sep=2pt] {};
  \node[main node] (2) [left of=1, circle, fill, inner sep=2pt] {};
  
  % draw the circle (radius = 0.51540)
%  \node[main node] (C) [above right=-2cm and -1.5cm of 1.center, circle, draw, inner sep=1.4577cm] {};
  \node[main node] (C) [above right=-2.4cm and -2.52cm of 1.center, circle, draw, inner sep=1.0308cm] {};
  
  % nodes on the circle of sigma
  \node[main node] (3) [left of=2, circle, fill, inner sep=2pt] {};
  \node[main node] (10) [below right=1.25cm and 0.88cm of 2.center, circle, fill, inner sep=2pt] {};
  \node[main node] (5) [left=2.70cm of 10, circle, fill, inner sep=2pt] {};
  \node[main node] (8) [below=2.5cm of 2, circle, fill, inner sep=2pt] {};
  \node[main node] (7) [left of=8, circle, fill, inner sep=2pt] {};
  \node[main node] (11) [below right=0.40cm and 0.60cm of 2.center, circle, fill, inner sep=2pt] {};
  \node[main node] (4) [left=2.10cm of 11, circle, fill, inner sep=2pt] {};
  \node[main node] (9) [below=1.55cm of 11, circle, fill, inner sep=2pt] {};
  \node[main node] (6) [below=1.55cm of 4, circle, fill, inner sep=2pt] {};
  
  \path[every node/.style={font=\sffamily\small}]
    % arrows on the leg of sigma
    (1) edge[-] node [left] {} (2)
    (1) edge["$f^{0} = 1_{M}$"', pos=0.60, out=300, in=40, min distance=7mm, looseness=8] (1)
    (1) edge["$f^{1}$"', bend right] node [right] {} (2)
    % arrows on the circle of sigma
    (2) edge["$f^{1+1}$"', bend right=55] node [right] {} (3)
    (3) edge["$f^{1+2}$"', bend right=55] node [right] {} (4)
    (4) edge["$f^{1+3}$"', bend right=55] node [right] {} (5)
    (5) edge["$f^{1+4}$"', bend right=55] node [right] {} (6)
    (6) edge["$f^{1+5}$"', bend right=55] node [right] {} (7)
    (7) edge["$f^{1+6}$"', bend right=55] node [right] {} (8)
    (8) edge["$f^{1+7}$"', bend right=55] node [right] {} (9)
    (9) edge["$f^{1+8}$"', pos=0.65, bend right=55] node [right] {} (10)
    (10) edge["$f^{1+9}$"', pos=0.3, bend right=55] node [right] {} (11)
    (11) edge["$f^{1+10}$", bend left=55] node [right] {} (2);
\end{tikzpicture}
\captionof{figure}{$\sigma$ lemma with $m=1$ and $n=10$.}
\end{minipage}

\begin{proof}[Proof\nopunct]
\begin{subproof}[of (1)]

Since $\abs{\textup{End}_{\mathcal{C}}(M)}<\infty$ there are only finitely many endomorphisms
$f_{1},\dots, f_{N} \in \textup{End}_{\mathcal{C}}(M)$.
Let $\{f^{k} | k \in \mathbb{N} \} \subset \textup{End}_{\mathcal{C}}(M)$, i.e. there is an inclusion function 
$\{f^{k} | k \in \mathbb{N}\} \rightarrow \{f_{j} | j \in \{1,\dots,N\}\}; f^{k} \mapsto f_{j}$ not necessarily surjective and 
by the pigeonhole principle highly non injective, since $\abs{\mathbb{N}}>\abs{\textup{End}_{\mathcal{C}}(M)}$.
Let $m := \mathrm{min} \{ k \in \mathbb{N}| \exists j \in \{ 1,\dots,N\} : f^{k} =  f_{j} \}$

The object $M$ is a finite set. Let $f \in \mathrm{End}_{\mathcal{C}}(M)$ be an endomorphism, in particular $s(f) = M$. The image of $f$ is the set 
\[
\mathrm{Im}(f) = \{ y \in M | \exists x \in M : y = f(x)\} \subset M
\]
in other words, there is a monomorphism of sets $\iota : \mathrm{Im}(f) \hookrightarrow M$ with $f(M) \subseteq \iota(\mathrm{Im}(f))$.
From lemma \ref{la:lift_along_mono} we can find a set-theoretic lift of $f$ along $\iota$, i.e. a map $\psi : M \rightarrow \mathrm{im}(f)$ of sets
such that the following diagram commutes:
\[
\begin{tikzcd}
\mathrm{im}(f) \arrow[r, "\iota", hook] & M \\
M \arrow[ru, "f"'] \arrow[u, "\psi"]    &  
\end{tikzcd}
\]
Therefore the function $M \xrightarrow{f} \mathrm{im}(f)$ is surjective
\end{subproof}
\begin{subproof}[Proof of (2).]
\begin{align*}
&f^{m+n} &&= f^{m} \\
\Rightarrow &f^{n}f^{m} &&= f^{m} \\
\Rightarrow &f^{n}(y) &&= y, \text{ if } y = f^{m}(x), x \in M \\
\Rightarrow &f^{n}(y) &&= y, \text{ if } y \in \mathrm{Im}(f^{m}) \\
\Rightarrow &f^{n} &&= 1_{\mathrm{Im}(f^{m})}
\end{align*}
The identity on $\mathrm{Im}(f^{m})$ is $1_{\mathrm{Im}(f^{m})} : \mathrm{Im}(f^{m}) \rightarrow \mathrm{Im}(f^{m})$
and maps $\mathrm{Im}(f^{m})\ni y \mapsto y \in \mathrm{Im}(f^{m})$.
Let $x \in M$ and $y := f^{m}(x)$. Then we can identify as the identity on $\mathrm{Im}(f^{m})$ the function
that maps $y \mapsto y$ iff it maps $f^{m}(x) \mapsto f^{m}(x)$.\\
For $f : \mathrm{Im}(f^{m}) \rightarrow \mathrm{Im}(f^{m})$ we have
$f^{n-1} : \mathrm{Im}(f^{m}) \rightarrow \mathrm{Im}(f^{m})$ such that for all
$x \in M$ we have $(f\,f^{n-1})(f^{m}(x)) = f^{m+n}(x) = f^{m}(x)$ and
$(f^{n-1}\,f)(f^{m}(x)) = f^{m+n}(x) = f^{m}(x)$. Therefore $f : \mathrm{Im}(f^{m}) \rightarrow \mathrm{Im}(f^{m})$
is an iso with inverse $f^{n-1}$.
\end{subproof}
\begin{subproof}[Proof of (3).]
Since $f^{m+n} = 1_{\mathrm{Im}(f^{m})}$, for $m = 0$ we have
$\mathrm{Im}(f^{0}) = \mathrm{Im}(1_{M}) = M$ and therefore
$f^{n} = 1_{M}$, i.e. $f$ is bijective with $f^{-1} = f^{n-1}$.
\end{subproof}
\begin{subproof}[Proof of (4).]
In the case of $m = 0$, the morphism $f$ is a bijective function, i.e. an element of $S_{M}$. With the obvious
bijection $M \cong \{1,\dots,N\}$ we also have a bijection of groups $\varphi : S_{M} \cong S_{N}$. By the definition
of Landau's function $g$, there is a permutation $a \in S_{N}$ of order at most $g(N)$ with $a = \varphi(f)$, i.e.
$\mathrm{ord}(a) \leq g(N)$, in other words, $\exists n\leq g(N) : a^{n} = 1_{\{1,\dots,N\}}$. For the same $n$ we have
$f^{n} = (\varphi^{-1}a)^{n} = \varphi^{-1}(a^{n}) = \varphi^{-1}(1_{\{1,\dots,N\}}) = 1_{M}$.\\
In \textit{(2)} we proved that $f\restrict{\mathrm{Im}(f^{m})}$ is bijective on $\mathrm{Im}(f^{m})$, therefore an element of
$S_{\mathrm{Im}(f^{m})}$ and we can find with the same argument as above an upper bound $g(N') \leq g(N), N' := \abs{\mathrm{Im}(f^{m})}$
since $\mathrm{Im}(f^{m}) \subseteq M$. This gives us an upper bound for $n$ in the general case.\\
For an upper bound for $m$ let's imagine an example with $m=11$ and $n=1$:\\

%m=11, n=1
\begin{tikzpicture}[->,>=stealth',auto,node distance=1cm,
  thick,main node/.style={circle,draw,font=\sffamily\Large\bfseries}]

  % nodes on the leg of sigma
  \node[main node] (1) [circle, fill, inner sep=2pt] {};
  \node[main node] (2) [left of=1, circle, fill, inner sep=2pt] {};
  \node[main node] (3) [left of=2, circle, fill, inner sep=2pt] {};
  \node[main node] (4) [left of=3, circle, fill, inner sep=2pt] {};
  \node[main node] (5) [left of=4, circle, fill, inner sep=2pt] {};
  \node[main node] (6) [left of=5, circle, fill, inner sep=2pt] {};
  \node[main node] (7) [left of=6, circle, fill, inner sep=2pt] {};
  \node[main node] (8) [left of=7, circle, fill, inner sep=2pt] {};
  \node[main node] (9) [left of=8, circle, fill, inner sep=2pt] {};
  \node[main node] (10) [left of=9, circle, fill, inner sep=2pt] {};
  \node[main node] (11) [left of=10, circle, fill, inner sep=2pt] {};
  \node[main node] (12) [left of=11, circle, fill, inner sep=2pt] {};
  
  % draw the circle
  
  \path[every node/.style={font=\sffamily\small}]
    % arrows on the leg of sigma
    (1) edge[-] node [left] {} (12)
    (1) edge["$f^{0} = 1_{M}$"', pos=0.60, out=300, in=40, min distance=7mm, looseness=8] (1)
    (12) edge["$f^{11+1}$"', pos=0.60, out=140, in=220, min distance=7mm, looseness=8] (12)
    (1) edge["$f^{1}$"', bend right] node [right] {} (2)
    (2) edge["$f^{2}$"', bend right] node [right] {} (3)
    (3) edge["$f^{3}$"', bend right] node [right] {} (4)
    (4) edge["$f^{4}$"', bend right] node [right] {} (5)
    (5) edge["$f^{5}$"', bend right] node [right] {} (6)
    (6) edge["$f^{6}$"', bend right] node [right] {} (7)
    (7) edge["$f^{7}$"', bend right] node [right] {} (8)
    (8) edge["$f^{8}$"', bend right] node [right] {} (9)
    (9) edge["$f^{9}$"', bend right] node [right] {} (10)
    (10) edge["$f^{10}$"', bend right] node [right] {} (11)
    (11) edge["$f^{11}$"', bend right] node [right] {} (12);
\end{tikzpicture}\\

If by $f^{10}$ we had already nine distinct functions $f^{1},\dots,f^{9}$ with no repetitions, and also the inclusions
$M \supsetneq \mathrm{Im}(f) \supsetneq \mathrm{Im}(f^{2}) \supsetneq \dots \supsetneq \mathrm{Im}(f^{9})$, we can only have
so many proper subsets of M. If in the chain of images, $|\mathrm{Im}(f^{k+1})| = |\mathrm{Im}(f^{k})| - 1$ then after
$m = \abs{M}$ steps the set $\mathrm{Im}(f^{m})$ is a singleton and the next function $f : \mathrm{Im}(f^{m}) \rightarrow \mathrm{Im}(f^{m})$
is forced to be bijective.
\end{subproof}
\end{proof}

\begin{example}{(Endomorphism $f$ satisfying the relation $f^{m+n} = f^{m}$)}
\begin{enumerate}
\renewcommand{\labelenumi}{(\theenumi)}
\item For any $m, n \in \mathbb{N}, n\geq 1$ we can find a finite set $M$ and an endomorphism $f \in \mathrm{End}_{\mathrm{FinSet}}(M)$
with $f^{m+n} = f^{m}$:\\
Let $\Bbbk$ be a field, e.g. $\Bbbk :=\{\cdot,1\}$, then on the vector space $V := \Bbbk^{m+n}$ with
standard basis $B = \{e_{1},\dots,e_{m+n}\}$ we can define the endomorphism $f$ via the companion matrix $\mathcal{M}_{p}$ to the polynomial
$p(x) = x^{m+n}-x^{m} \in \Bbbk[x]$. This matrix defines an endomorphism\\
$f : \{1,\dots,m+n\} \rightarrow \{1,\dots,m+n\}; 1 \mapsto 2, 2\mapsto 3, \dots, m+n-1 \mapsto m+n, m+n \mapsto m+1$
on the finite set $M := \{1,\dots,m+n\}$ satisfying $f^{m+n} = f^{m}$.
\item For $m = 3$ and $n = 5$ that is the matrix
\[
\mathcal{M}_{x^{8}-x^{3}} = \begin{pmatrix}
\cdot & \cdot & \cdot & \cdot & \cdot & \cdot & \cdot & \cdot \\
1 & \cdot & \cdot & \cdot & \cdot & \cdot & \cdot & \cdot \\
\cdot & 1 & \cdot & \cdot & \cdot & \cdot & \cdot & \cdot \\
\cdot & \cdot & 1 & \cdot & \cdot & \cdot & \cdot & \cdot \\
\cdot & \cdot & \cdot & 1 & \cdot & \cdot & \cdot & \cdot \\
\cdot & \cdot & \cdot & \cdot & 1 & \cdot & \cdot & 1 \\
\cdot & \cdot & \cdot & \cdot & \cdot & 1 & \cdot & \cdot \\
\cdot & \cdot & \cdot & \cdot & \cdot & \cdot & 1 & \cdot
\end{pmatrix}
\]
which has $p(x) = x^{3+5}-x^{3}$ as its minimal polynomial, i.e. $\mathcal{M}_{p}^{3+5} = \mathcal{M}_{p}^{3}$. The endomorphism of
vector spaces can be restricted to an endomorphism of the set of standard basis elements $\{e_{1},\dots,e_{8}\}$,
\[
f : \{e_{1},\dots,e_{8}\} \rightarrow \{e_{1},\dots,e_{8}\}; e_{1} \mapsto e_{2}, e_{2} \mapsto e_{3},\dots, e_{7} \mapsto e_{8}, e_{8}
\mapsto e_{6}
\]
and satisfies $f^{3+5} = f^{3}$.
\end{enumerate}
\end{example}

With the $\sigma$ lemma \ref{la:sigma-lemma} as a tool in our toolbox, we can tackle the problem of the free category generated by a finite
quiver of $\mathrm{FinSets}$ with endomorphisms.\\
Recall definition \ref{def:path_algebra} of the path algebra $\Bbbk q$ of a quiver $q$, which is the
$\Bbbk$-vector space with basis set of all paths in $q$ and concatenation of composable paths as multiplication. By lemma \ref{la:cyclic_paths} one cyclic
path, i.e. an endomorphism, in $q$ is enough for there to be infinitely many paths, i.e. $\Bbbk q$ is infinite-dimensional.

Our algorithm can deal with endomorphism monoids that are explicitly cyclic.

\begin{definition}{(Explicitly cyclic quiver)}\label{def:explicitly_cyclic_quiver}
We call a quiver $q$ \ul{explicitly cyclic}, if the free category $Fq$ on $q$ will only have explicitly cyclic endomorphism monoids.
\end{definition}

We will give some examples and counterexamples of explicitly cyclic quivers and which arrow's existence violates the above condition.

\begin{example}{(Examples and counterexamples for explicitly cyclic quivers)}
\begin{enumerate}
\renewcommand{\labelenumi}{(\theenumi)}
\item An explicitly cyclic quiver

\[
\begin{minipage}{.10\textwidth}
\phantom{}
\end{minipage}
\begin{minipage}{.30\textwidth}
\begin{tikzcd}
{X} \arrow["a"', loop, distance=2em, in=305, out=235] \arrow[rr, "b"] &  & {Y} \arrow["c"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.15\textwidth}
$\xrightarrow{\text{     }F\text{     }}$
\end{minipage}
%
\begin{minipage}{.35\textwidth}
\begin{tikzcd}
{X} \arrow["{a,a^{2},\dots}"', loop, distance=2em, in=305, out=235] \arrow[rr, "b", shift left] \arrow[rr, "{\begin{matrix} \text{$a^{m}bc^{n}$}
\\ \text{$(m,n\in\mathbb{N})$} \end{matrix}}"', shift right] &  & {Y} \arrow["{c,c^{2},\dots}"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\end{minipage}
%
\begin{minipage}{.10\textwidth}
\phantom{}
\end{minipage}
\]
\item This quiver is not explicitly cyclic.
\[
\begin{tikzcd}
X \arrow["a"', loop, distance=2em, in=305, out=235] \arrow[rr, "b", bend left] &  & Y \arrow["c"', loop, distance=2em, in=305, out=235] \arrow[ll, "d", bend left] & {} \arrow[r, "F"] & {} & X \arrow["{\begin{matrix}a,a^{2},\dots, \\ (bd),(bd)^{2},\dots, \\ a(bd),\dots \end{matrix}}"', loop, distance=2em, in=305, out=235] \arrow[rr, "{b,\dots}", bend left] &  & Y \arrow[ll, "{d,\dots}", bend left] \arrow["{\begin{matrix} c,c^{2},\dots, \\(db),(db)^{2},\dots, \\ (db)c(db),\dots \end{matrix}}"', loop, distance=2em, in=305, out=235]
\end{tikzcd}
\]
With the path $bd : X \rightarrow X$ we have two paths
$a, bd \in \mathrm{End}_{Fq}(X)$ and thus an endomorphism monoid that is generated by two generators $a$ and $bd$, and thus is
not explicitly cyclic.\endnote{(The difference between the two quivers (1) and (2) is that the first one has some sense of order. Object $Y$ comes
\textit{after} $X$ in the sense that you have an arrow from $X$ to $Y$, but not the other way around. If $a$ and $c$ were the identity morphisms,
then (1) would be an example for a \ul{poset} or partially ordered set, i.e. a category such that for any pair of objects $x, y$ there is at most one
morphism from $x$ to $y$, and if there is a morphism from $x$ to $y$ and a morphism from $y$ to $x$, then $x = y$, i.e. the objects are equal.
An exercise for the reader could be to formulate the exact relations between posets and explicitly cyclic quivers)}
\item The first quiver from example \ref{ex:U-F-U-F_from_singleton} is explicitly cyclic:\\
\[
\begin{tikzcd}
\ast \arrow["a"', loop, distance=2em, in=305, out=235] & {} \arrow[r, "F"] & {} & \ast \arrow["a"', loop, distance=2em, in=305, out=235] \arrow["1_{\ast}"', loop, distance=2em, in=125, out=55] \arrow["{{a^{2}, a^{3},\dots}}"', loop, distance=2em, in=35, out=325]
\end{tikzcd}
\]
\item But after another forgetful functor $U$ the underlying quiver is not explicitly cyclic:\\
\[
\begin{tikzcd}
\ast \arrow["{a, b, c,\dots}"', loop, distance=2em, in=305, out=235] & {} \arrow[r, "F"] & {} & \ast \arrow["{a, b, c,\dots}"', loop, distance=2em, in=305, out=235] \arrow["1_{\ast}"', loop, distance=2em, in=125, out=55] \arrow["{a^{2},\dots,ab,\dots,ababbaba,\dots,b^{2},\dots,c^{2},\dots}"', loop, distance=2em, in=35, out=325]
\end{tikzcd}
\]
\end{enumerate}
\end{example}

\begin{definition}{(Ideal of an algebra)}\label{def:ideal_of_algebra}
Let $\mathcal{A}$ be a $\Bbbk$-algebra over a field $\Bbbk$.
A subset $L \subset \mathcal{A}$ is a \ul{left ideal} of $\mathcal{A}$, denoted $L \vartriangleleft \mathcal{A}$, if for every $x, y \in L$,
$z \in \mathcal{A}$ and $c \in \Bbbk$ we have the following three statements:
\begin{enumerate}
\renewcommand{\labelenumi}{(\theenumi)}
\item $x + y \in L$ ($L$ is closed under addition),
\item $cx \in L$ ($L$ is closed under scalar multiplication),
\item $z \cdot x \in L$ ($L$ is closed under left multiplication by arbitrary elements).
\end{enumerate}
\noindent If (3) were replaced with $x \cdot z \in L$, then this would define a \ul{right ideal}, $\mathcal{A} \vartriangleright L$.
A \ul{two-sided ideal} is a subset that is both a left and a right ideal.
\end{definition}

\begin{remark}{(Ideal of a unital algebra)}
If in \ref{def:ideal_of_algebra} $\mathcal{A}$ is a unital associative algebra with unit $e$, then we only need statements
(1) and (3). The statement (2) follows from (3).
\end{remark}
\begin{proof}
For $c \in \Bbbk$ and $x\in L$, $ce \in \mathcal{A}$ and with (3) we have $L \ni (ce)\cdot x = c(e\cdot x) = cx$, i.e. (2).
\end{proof}

\begin{remark}{(Quotient algebra by a two-sided ideal)}
Let $\mathcal{A}$ be a $\Bbbk$-algebra and $\mathcal{I} \vartriangleleft \mathcal{A}$ a two-sided ideal. Then the set of
remainder classes 
\[
\mathcal{A}\,/\,\mathcal{I} = \mathcal{A}\,/\,\mathcal{IAI} := \{ z + \mathcal{IAI} : z\in \mathcal{A} \}
\]
called the \ul{quotient algebra}. With an addition and multiplication operation as well as a scalar multiplication all well-defined on remainder classes,
the quotient algebra is again an algebra. As a vector space, $\mathcal{A}\,/\,\mathcal{I}$ is a subspace of $\mathcal{A}$,
and may have a smaller dimension.
\end{remark}

\begin{remark}{(Relations of Endomorphisms)}
Let the generating quiver $q$ of our finite concrete category $\mathcal{C}$ be explicitly cyclic with one generating endomorphism
$\alpha_{j} : M_{j} \rightarrow M_{j}$ for each finite set $M_{j} \in \mathcal{C}_{0}, j = 1,\dots,N, N := \abs{\mathcal{C}_{0}}$.

The following algorithm calculates a list of relations as generators of the ideal
\begin{equation}
\left< \alpha_{1}^{m_{1}+n_{1}} - \alpha_{1}^{m_{1}}, \dots, \alpha_{N}^{m_{N}+n_{N}} - \alpha_{N}^{m_{N}} \right>
\vartriangleleft \label{eq:ideal_of_endos} \Bbbk q.
\end{equation}
From the $\sigma$-lemma \ref{la:sigma-lemma} we know that each relation is of the form $p(x) = x^{m+n} - x^{m}$ for some natural numbers
$m, n \in \mathbb{N}$, especially with $n \neq 0$, the ideal in \eqref{eq:ideal_of_endos} is not the zero ideal.

With the list of relations of endomorphisms
\[
\mathtt{relEndo} := ( \alpha_{1}^{m_{1}+n_{1}} - \alpha_{1}^{m_{1}}, \dots, \alpha_{N}^{m_{N}+n_{N}} - \alpha_{N}^{m_{N}} )
\]
that we got from our algorithm, we can calculate the quotient algebra by the ideal generated by $\mathtt{relEndo}$,
\[
\mathcal{A} := \Bbbk q \, / \, \mathtt{relEndo}.
\]
This is a finite-dimensional $\Bbbk$-algebra with a distinct set of idempotents.
In the following subsection we show that this is equivalent to a $\Bbbk$-linear category (also called $\kAlgebroid$).
\end{remark}

%% 
\subsection{$\Bbbk$-linear categories, $\Bbbk$-Algebroids and $ \Bbbk$-Algebras with orthogonal idempotents}

Throughout this section, let $\Bbbk$ be a commutative ring.

\begin{definition}{($\Bbbk$-category)}
Let $\Bbbk$ be a commutative ring. A \ul{$\Bbbk$-category} is a category $\mathcal{A}$ together with a $\Bbbk$-module structure
on each hom-set in such a way that composition induces $\Bbbk$-module homomorphisms
\[
\mathrm{Hom}_{\mathcal{A}}(A,A')\otimes_{\Bbbk}\mathrm{Hom}_{\mathcal{A}}(A',A'') \rightarrow \mathrm{Hom}_{\mathcal{A}}(A,A'').
\]
\end{definition}

\begin{definition}{($\Bbbk$-linear category, $\Bbbk$-$\mathrm{Algebroid}$)}
Let $\Bbbk$ be a commutative unital ring. A \ul{$\Bbbk$-linear category}, also called \ul{$\Bbbk$-$\mathrm{Algebroid}$},$\,\mathcal{A}$ is a
category where every hom-set is a $\Bbbk$-module, and where for $x,y,z \in \mathcal{A}_{0}$ composition of morphisms
\[
\mu : \mathrm{Hom}_{\mathcal{A}}(x,y) \times \mathrm{Hom}_{\mathcal{A}}(y,z) \rightarrow \mathrm{Hom}_{\mathcal{A}}(x,z)
\]
is $\Bbbk$-bilinear.

Note that this does imply that $\mathcal{A}$ is a pre-additive category, but it need not be additive.
\end{definition}

\begin{definition}{($\Bbbk$-linear functor)}
Let $\Bbbk$ be a commutative ring. A \ul{functor of $\Bbbk$-linear categories} or a \ul{$\Bbbk$-linear functor} is a functor
$F : \mathcal{A} \rightarrow \mathcal{B}$ between $\Bbbk$-linear categories $\mathcal{A}$ and $\mathcal{B}$,
where for all objects $x, y \in \mathcal{A}_{0}$, the map
\[
F : \mathrm{Hom}_{\mathcal{A}}(x,y) \rightarrow \mathrm{Hom}_{\mathcal{B}}(F(x), F(y))
\]
is a homomorphism of $\Bbbk$-modules.
\end{definition}

\begin{definition}{(The category $\Bbbk$-$\mathbf{Algebroid}$)}
For a fixed commutative ring $\Bbbk$, we define the category $\Bbbk\textnormal{-}\mathbf{Algebroid}$ with objects being
$\Bbbk$-linear categories, and morphisms $\Bbbk$-linear functors between these categories.
\end{definition}

\noindent We can associate to any category a $\Bbbk$-linear category called its $\Bbbk$-linear closure:

\begin{definition}{($\Bbbk$-linear closure of a category)}
Let $\mathcal{C}$ be a category, and $\Bbbk$ a commutative unital ring. We define the \ul{category algebra} $\Bbbk \mathcal{C}$ to be
the free $\Bbbk$-module with the morphisms of the category $\mathcal{C}$ as a basis.
\end{definition}

\begin{definition}{(Path algebra of a quiver)}\label{def:path_algebra}
We define the \ul{path algebra} of a quiver $q$ over a commutative ring $\Bbbk$ by
\[
\Bbbk q := \Bbbk Fq,
\]
where $Fq$ is the free category of the quiver $q$ from definition \ref{def:free_category}.
\end{definition}

\begin{lemma}\label{la:path_algebra_is_ass_algebra}
For a quiver $q$ and a field $\Bbbk$, the path algebra $\Bbbk q$ is an associative $\Bbbk$-algebra.\endnote{(From \cite{[leit4]} 4.1)}
\end{lemma}
\begin{proof}
Let $w, w', w''$ be paths. Then both $(ww')w''$ and $w(w'w'')$ are the concatenation of $w$ on the left,
$w'$ in the middle and $w''$ on the right, in case both conditions $t(w) = s(w')$ and $t(w') = s(w'')$ are satisfied, and
otherwise the zero element (since $(ww')0 = 0, 0(w'w'') = 0$, according to bilinearity).\\
Since the multiplication was defined on a basis and extended bilinearly, the axioms of an algebra are clearly satisfied.
\end{proof}

\begin{lemma}\label{la:unit_in_path_algebra}
If the set of vertices of a quiver $q_{0}$ is finite, then $\Bbbk q$ has a unit element $\sum_{x\in q_{0}} e_{x}$. In this case, $\Bbbk q$ is a unital
associative algebra, i.e. a unital ring that is also a vector space.\endnote{(From \cite{[leit4]} 4.1)}
\end{lemma}
\begin{proof}
Let $e := \sum_{x\in q_{0}} e_{x}$. Let $w$ be a path with $s(w) = x$ and $t(w) = y$, then $e_{x}w = w$ and $e_{z}w = 0$ for all $z \neq x$,
thus $ew = e_{x}w + \sum_{z\neq x} e_{z}w = w + 0 = w$. Similarly, $we_{y} = w$ and $we_{z} = 0$ for $z \neq x$.

\end{proof}

\begin{definition}{(Idempotent)}\label{def:idempotent}
Let $\mathbf{A}$ be a unital algebra over a field $\Bbbk$.
\begin{enumerate}
\renewcommand{\labelenumi}{(\theenumi)}
\item An element $e\in \mathbf{A}$ is an \ul{idempotent} if $e^{2} = e$.
\item If $e_{1}, e_{2} \in \mathbf{A}$ are idempotents, then we will say that they are \ul{orthogonal} iff $e_{1}e_{2} = e_{2}e_{1} = 0$.
\item An idempotent $e \in \mathbf{A}$ is called \ul{primitive} if $e = e_{1} + e_{2} \Rightarrow e_{1} = 0 \vel e_{2} = 0$.
\item An idempotent is called \ul{trivial} if it is either $0$ or $1$.
\end{enumerate}
\end{definition}

\begin{proposition}
Let $\mathbf{A}$ be an $n$-dimensional unital algebra over a commutative ring $\Bbbk$, and $\Bbbk$-submodules
$M_{1},\dots,M_{n} \leq \mathbf{A}$ such that
\begin{align}
\mathbf{A} = \bigoplus_{i=1}^{n} M_{i},
\end{align}
i.e.
\begin{align}
\mathbf{A} &= \{ m_{1} + \dots + m_{n} : m_{i} \in M_{i} \}\, \text{ and }\\
M_{i} \cap M_{j} &= \{0\}\, \text{ if }\, i\neq j 
\end{align}
If $1 = \sum_{i=1}^{n} m_{i}$ for some $m_{i} \in M_{i}$, then the $m_{i}$ are orthogonal idempotents in $\mathbf{A}$, and
\begin{align}
M_{i} = m_{i}\mathbf{A}m_{i},\, 1\leq i \leq n.
\end{align}
Furthermore, $M_{i}$ is indecomposable as a module if and only if $m_{i}$ is primitive.
If we can write $\mathbf{A}$ as a direct sum
\[
\mathbf{A} = 1\mathbf{A}1 = \sum_{i}e_{i} \mathbf{A} \sum_{j} e_{j} = \sum_{i,j} e_{i}\mathbf{A}e_{j}.
\]
of indecomposable modules $e_{i}\mathbf{A}e_{j}$ for $\{e_{1},\dots,e_{n}\}$ pairwise orthogonal, primitive idempotents, then the
set $\{e_{1},\dots,e_{n}\}$ is called \textbf{the} \ul{complete set of primitive orthogonal idempotents} of $\mathbf{A}$. 
\end{proposition}
\begin{proof}[Proof\nopunct]
\begin{subproof}[that the $m_{i}$ are orthogonal idempotents]

\end{subproof}
\begin{subproof}[Proof of equivalence $M_{i}$ indecomposable $\Leftrightarrow$ $m_{i}$ primitive]\phantom{}\\
\setlist[description]{font=\normalfont}
\begin{description}
\item[``$\Rightarrow$:''] Let $M_{i}$ be indecomposable. Let $m_{i} = n + p$ for some idempotent $n, p \in \mathbf{A}$. Then
$M_{i} = m_{i}\mathbf{A} = (n+p)\mathbf{A} = \{nx + py : x,y \in \mathbf{A}\} = n\mathbf{A} \oplus p\mathbf{A}$. Since $M_{i}$ was
indecomposable, it follows that $n\mathbf{A} = \{0\} \vel p\mathbf{A} = \{0\}$. Therefore $n = 0 \vel p = 0$, i.e. $m_{i}$ is primitive.
\item[``$\Leftarrow$:''] Let $m_{i}$ be primitive. Let $m_{i}\mathbf{A} = M_{i} = N \oplus P$. Therefore
$m_{i}\mathbf{A} = \{m_{i}x : x\in \mathbf{A}\} = \{n + p : n\in N, p \in P\}$. For $1 \in \mathbf{A}$ then there are some $n \in N, p\in P$
such that $m_{i}1 = n+p$. If $m_{i} \in N$ then 


Since
\[
\mathbf{A} = \bigoplus_{j=1}^{n} M_{j} = \bigoplus_{\begin{smallmatrix}j=1,\\ j \neq i\end{smallmatrix}}^{n} M_{j} \oplus (N \oplus P)
\]

\end{description}
\end{subproof}
\end{proof}

where for the sets $e_{i}\mathbf{A}e_{j}$:
\begin{align}
e_{i}\mathbf{A}e_{j} &\cap e_{i'}\mathbf{A}e_{j'} = \delta_{i,i'} \cdot \delta_{j,j'},\,\text{ since }\\
x &= e_{i} \cdot a \cdot e_{j} = e_{i'} \cdot b \cdot e_{j'} \\
x &= \underbrace{e_{i}e_{i}}_{e_{i}} \cdot a \cdot e_{j} = \underbrace{e_{i}e_{i'}}_{= 0} \cdot b \cdot e_{j'},\, &e_{i} \neq e_{i'} \\
x &= e_{i} \cdot a \cdot \underbrace{e_{j}e_{j}}_{e_{j}} = e_{i'} \cdot b \cdot \underbrace{e_{j'}e_{j}}_{= 0},\, &e_{j} \neq e_{j'}
\end{align}
\begin{proof}
$\mathbf{A} = M_{1} \oplus M_{2}$ means $\mathbf{A} = \{m_{1} + m_{2} : m_{1} \in M_{1}, m_{2} \in M_{2}\}$ and
$M_{1} \cap M_{2} = \{0\}$. The $M_{i}$ are closed under $\Bbbk$-linear combination and multiplication of elements in $M_{i}$, i.e.
$m,m' \in M_{i}, \lambda \in \Bbbk \Rightarrow m + \lambda m' \in M_{i}\,\text{ and }\, mm' \in M_{i}$. If we have $1 = m_{1} + m_{2}$, then 
\begin{align}
m_{2} &= 1 - m_{1} \\
m_{2}^{2} - m_{2} &= (1-m_{1})^{2} - (1 - m_{1}) = 1 - 2m_{1} + m_{1}^{2} - 1 + m_{1} = m_{1}^{2} - m_{1} \\
m_{2}^{2} - m_{2} &\in M_{1}\cap M_{2} \\
m_{1}^{2} - m_{1} &\in M_{1}\cap M_{2} \\
m_{1} &= m_{1}^{2} \,\text{ and }\, m_{2} = m_{2}^{2}
\end{align}
i.e. $m_{1}, m_{2}$ are idempotent. They are also orthogonal, since
\begin{align}
m_{1} &= 1m_{1} = (m_{1}+m_{2})m_{1} = m_{1}^{2} + m_{2}m_{1} \\
m_{1} &= m_{1}1 = m_{1}(m_{1}+m_{2}) = m_{1}^{2} + m_{1}m_{2}\,\text{ and with }\, m_{1}^{2} = m_{1}\,\text{ it follows that }\\
m_{1}m_{2} &= 0 = m_{2}m_{1}
\end{align}
To prove $M_{1} = m_{1}\mathbf{A}$, we show both inclusions.
\begin{enumerate}
\renewcommand{\labelenumi}{(``$\subseteq$'')}
\item Let $x \in M_{1}$. Then $x = 1x = (m_{1}+m_{2})x = m_{1}x + m_{2}x$. With $m_{2}x \in M_{2}\cap M_{1}$ if follows $m_{2}x = 0$
and therefore $x = m_{1}x \in m_{1}\mathbf{A}$.
\renewcommand{\labelenumi}{(``$\supseteq$'')}
\item Let $a \in \mathbf{A}$. Then $m_{1}a$.
\end{enumerate}
\end{proof}

\begin{remark}
The path algebra $\Bbbk q$ of a quiver $q$ with a finite set of vertices $q_{0} = \{1,\dots,n\}$ has a complete set of
primitive orthogonal idempotents, namely the set $\{e_{1},\dots,e_{n}\}$ of empty paths $e_{i}$ on each vertex $i \in q_{0}$.
\end{remark}
\begin{proof}
Since $q_{0}$ is finite, $\Bbbk q$ has a unit $1 = \sum_{i=1}^{n} e_{i}$ (ref. \ref{la:unit_in_path_algebra}). We can write $\Bbbk q$ as the
direct sum of all sub-algebras $e_{i} \Bbbk q$ of paths that start at vertex $i$ or of all sub-algebras $\Bbbk q e_{j}$ of paths ending at vertex $j$,
and even as the direct sum of all paths from vertex $i$ to vertex $j$.
\begin{align}
\Bbbk q = \bigoplus_{i=1}^{n} e_{i} \Bbbk q = \bigoplus_{j=1}^{n} \Bbbk q e_{j} = \bigoplus_{i, j} e_{i} \Bbbk q e_{j} 
\end{align}
\end{proof}

\begin{proposition}
A unital associative $\Bbbk$-algebra is a $\Bbbk$-algebroid with 1 object
\end{proposition}
\begin{proof}
Let $\Bbbk$ be a commutative unital ring and $\mathbf{A}$ a unital associative algebra over $\Bbbk$. This defines a category $\mathcal{A}$
with a single object $\ast$ and the morphisms being the elements of the algebra, which are all endomorphisms since there is only one object.
Composition of morphisms is defined by the multiplication in $\mathbf{A}$, which is assumed to be associative.
The unit $e$ of the algebra acts as the identity morphism. The set $\{ e \}$ is trivially a set of orthogonal idempotents.
The hom-set $\mathrm{Hom}_{\mathcal{A}}(\ast,\ast) = \mathrm{End}_{\mathcal{A}}(\ast)$ is the whole algebra $\mathbf{A}$, which is
a $\Bbbk$ module with bilinear multiplication as composition, i.e. $\mathcal{A}$ is a $\kAlgebroid$.
\end{proof}

\[
\Bbbk\textnormal{-}\mathbf{Algebra} \subset \Bbbk\textnormal{-}\mathbf{Algebra}^{\text{idem}} \cong \Bbbk\textnormal{-}\mathbf{Algebroid}
\]

Algebra with complete set of orthogonal idempotents = Vector space with basis??

Path algebras $\Bbbk q$ are algebras with distinct set of orthogonal idempotents.

\begin{definition}
The category $\Bbbk\textnormal{-}\mathbf{Algebra}^{\text{idem}}$ of algebras with a complete set of primitive orthogonal idempotents has
as objects pairs $(\mathbf{A},\{e_{1},\dots,e_{n}\})$ where $\mathbf{A}$ is an associative unital $\Bbbk$-algebra with
$1 = \sum_{i=1}^{n} e_{i}$ and $\{e_{1},\dots,e_{n}\}$ is a set of pairwise orthogonal, primitive idempotents.
Morphisms between algebras are $\Bbbk$-Algebra homomorphisms
$g : (\mathbf{A},\{e_{1},\dots,e_{n}\}) \rightarrow (\mathbf{B},\{f_{1},\dots,f_{m}\})$, especially
\begin{align}
g(1_{\mathbf{A}}) &= 1_{\mathbf{B}} \\
g( \sum_{i=1}^{n} e_{i} ) &=  \sum_{j=1}^{m} f_{j} \\
 \sum_{i=1}^{n} g( e_{i} ) &=  \sum_{j=1}^{m} f_{j}
\end{align}
\end{definition}

\begin{proposition}
An algebra with a distinct set of orthogonal idempotents is an algebroid. The categories $\Bbbk\textnormal{-}\mathbf{Algebroid}$ and
$\Bbbk\textnormal{-}\mathbf{Algebra}^{\text{idem}}$ are equivalent.
\end{proposition}
\begin{proof}
From theorem \ref{thm:equiv_fully_faithful} we know that the equivalence is characterized by a fully faithful functor that is essentially surjective.
\[
\begin{tikzcd}
\Bbbk\textnormal{-}\mathbf{Algebra}^{\text{idem}} \arrow[r, "F"] & \Bbbk\textnormal{-}\mathbf{Algebroid}
\end{tikzcd}
\]
I will show how the functor $F$ acts on objects.
Let $\{e_{1},\dots,e_{n}\}$ be the complete set of primitive orthogonal idempotents of $\mathbf{A}$. Then the algebroid
$\mathcal{A} := F(\mathbf{A},\{e_{1},\dots,e_{n}\})$ has
as set of objects the set $\mathcal{A}_{0} := \{1,\dots,n\}$ with identity morphisms $1_{i} = e_{i}, 1\leq i \leq n$. The set of morphisms between
two objects $i,j$ is defined as $\mathrm{Hom}_{\mathcal{A}}(i,j) := e_{i}\mathbf{A}e_{j}$, i.e. a morphism is an element
$e_{i}\mathbf{A}e_{j} \ni \alpha = e_{i}ae_{j}, a\in \mathbf{A}$.
Composition of morphisms $i \xrightarrow{\alpha} j \xrightarrow{\beta} k$ is defined by the multiplication in $\mathbf{A}$.
Let $\alpha = e_{i}ae_{j}, \beta = e_{j}be_{k}$ with $a, b\in \mathbf{A}$. Then
\begin{align}
\alpha \beta &= (e_{i}ae_{j})(e_{j}be_{k}) \\
&= e_{i}(ae_{j}b)e_{k} \\
&= e_{i}ce_{k}\,\text{ with }\, c := ae_{j}b \in \mathbf{A}.
\end{align}
Associativity of composition follows from associativity of multiplication in $\mathbf{A}$.
To show that $F$ is fully faithful and essentially surjective, let $\mathcal{C} := \Bbbk\textnormal{-}\mathbf{Algebra}^{\text{idem}}$ and
$\mathcal{D} := \Bbbk\textnormal{-}\mathbf{Algebroid}$, and let $A := (\mathbf{A},\{e_{1},\dots,e_{n}\}),\, B := (\mathbf{B},\{f_{1},\dots,f_{m}\}) \in \mathcal{C}_{0}$. We have to show that the map
\[
\mathrm{Hom}_{\mathcal{C}}(A,B) \rightarrow \mathrm{Hom}_{\mathcal{D}}(FA,FB)
\]
\setlist[description]{font=\normalfont}
\begin{description}
\item[(full)] is surjective: Let $G : FA \rightarrow FB$ be a $\Bbbk$-linear functor between algebroids. Then there is an algebra-homomorphism
$g : A \rightarrow B \in \mathrm{Hom}_{\mathcal{C}}(A,B)$ such that $G = Fg$.
\item[(faithful)] is injective: Let $Fg := G : FA \rightarrow FB$ and $Fh := H : FA \rightarrow FB$ be the same morphism $Fg = G = H = Fh$.
Then it follows that $g = h$ are the same algebra-homomorphism.
\item[(essentially surjective)] And that for every algebroid $\mathcal{A} \in \mathcal{D}$ there is some
$A := (\mathbf{A},\{e_{1},\dots,e_{n}\}) \in \mathcal{C}$ such that $\mathcal{A}$ is isomorphic to $FA$: 
The path algebra $\Bbbk U(\mathcal{A})$.
\end{description}
\end{proof}





